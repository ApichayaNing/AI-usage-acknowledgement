<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ECU AI Usage Acknowledgement Tool — Pilot</title>
  <meta name="description" content="Static, code-only prototype to help students generate an ECU-style acknowledgement of generative AI use. Optional anonymous analytics via Microsoft Forms (DLP-friendly)." />
  <link rel="stylesheet" href="assets/css/ecu.css" />
  <link rel="preconnect" href="https://forms.office.com">
  <link rel="dns-prefetch" href="//forms.office.com">
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <header class="site-header" role="banner" aria-label="Site header">
    <div class="brandbar"></div>
    <h1 class="title">ECU AI Usage Acknowledgement Tool</h1>
    <p class="subtitle">Pilot prototype to help students generate an ECU-style acknowledgement of generative AI use. Optional anonymous analytics via Microsoft Forms (DLP-friendly).</p>
  </header>

  <main id="main" class="wrap" role="main">
    <section class="grid">
      <!-- Left: Minimal input form -->
      <section class="card">
        <h2>Generate your statement</h2>

        <fieldset class="section" id="behaviours">
          <label class="field-label">1) Behaviours</label>
          <p class="hint">Choose what you used AI for.</p>
          <div id="behaviourPills" class="row" aria-live="polite"></div>

          <label class="inline">
            <input type="checkbox" id="behOtherChk" /> Add “Other”
          </label>
          <input
            type="text"
            id="behOtherText"
            class="input"
            placeholder="Other behaviours, e.g., outlining; brainstorming specific angles"
            style="display:none"
          />
        </fieldset>

        <fieldset class="section" id="tools">
          <label class="field-label">2) Tools used</label>
          <p class="hint">Free text (comma-separated). <em>Example:</em> ChatGPT, Microsoft Copilot, Grammarly</p>
          <input type="text" id="toolsText" class="input" placeholder="e.g., ChatGPT, Microsoft Copilot" />
        </fieldset>

        <fieldset class="section">
          <label class="field-label">3) Other details (optional)</label>
          <p class="hint">Add a short note, e.g., “Checked references manually; did not upload full draft”.</p>
          <textarea id="otherDetails" rows="3" class="input" placeholder="Optional"></textarea>
        </fieldset>

        <div class="section stack">
          <button id="generateBtn" class="btn primary">Generate</button>
        </div>
      </section>

      <!-- Right: Output + analytics -->
      <section id="statementCard" class="card">
        <h2>Your statement</h2>
        <div id="errors" class="hint error" aria-live="polite"></div>
        <div class="result" aria-live="polite">
          <pre id="statementText">Select behaviours, enter tools, then press “Generate”.</pre>
        </div>
        <div class="section stack">
          <button id="copyStmtBtn" class="btn">Copy statement</button>
          <button id="printBtn" class="btn ghost" title="Print or Save to PDF">Print / Save PDF</button>
        </div>

        <div class="divider"></div>

        <h3>Anonymous AI-use submission</h3>
        <p class="muted">
        Anonymous pilot analytics to inform better guidance and marking. 
        We collect behaviours, tools, and optional notes—no personal details or assignment text.
        </p>

        <p class="muted">Use these one-click copies, then paste into the matching fields.</p>

        <div class="form-actions" aria-label="Quick copy for matching Form fields">
        <button id="copyMapMicro"   class="btn btn-xxs">📋 Copy mapping</button>
        <button id="copyBehMicro"   class="btn btn-xxs ghost">📋 Behaviours</button>
        <button id="copyToolsMicro" class="btn btn-xxs ghost">📋 Tools</button>
        <button id="copyNoteMicro"  class="btn btn-xxs ghost">📋 Other notes</button>
        </div>

    <ol class="mini-steps">
    <li>Copy <em>mapping</em> → paste into <strong>Usage mapping (tool → behaviours)</strong>.</li>
    <li>Copy <em>behaviours</em> and <em>tools</em> → paste into their fields.</li>
    <li>Add <em>other notes</em> (optional), then submit.</li>
    </ol>

        <div class="callout tip" role="status">
        If the form doesn’t appear, <a href="#" id="openFormSameTab" class="link-strong">open the full form in this tab</a>.
        </div>

    <section id="formsSection" class="forms-embed">
        <div class="spinner" aria-hidden="true">Loading Microsoft Form…</div>
        <iframe
            id="formsFrame"
            title="ECU AI Use — Anonymous"
            width="100%"
            height="600"
            style="border:0;background:#fff;border-radius:12px"
            src=""
            allowfullscreen
            webkitallowfullscreen
            mozallowfullscreen
            msallowfullscreen>
        </iframe>
    </section>

        <footer class="privacy">
          <p><strong>Privacy:</strong> This page runs locally in your browser. Optional analytics only include behaviours, tool names, an optional note, a timestamp, and the fixed action <code>declaration_generated</code>. Target retention for the pilot is 180 days.</p>
        </footer>
      </section>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo" aria-label="Footer">
    <div class="wrap footer-inner">
      <div class="footer-meta">
        <div>
          © <span id="year"></span> Edith Cowan University. All rights reserved.
          <span class="sep">•</span> Pilot prototype (for testing) — not an official policy document.
        </div>
      </div>
    </div>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="assets/js/config.js"></script>
  <script src="assets/js/app.js"></script>
</body>
</html>
